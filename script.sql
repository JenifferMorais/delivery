CREATE SEQUENCE HIBERNATE_SEQUENCE;

CREATE TABLE CLIENT (
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	NAME VARCHAR(100),
	CPF VARCHAR(100),
	EMAIL VARCHAR(100),
	FK_USER INTEGER NOT NULL,
	CONSTRAINT PK_CLIENT PRIMARY KEY (ID),
	CONSTRAINT FK_CLIENT FOREIGN KEY (FK_USER) REFERENCES USERS(ID)
);
CREATE INDEX FK_CLIENT ON CLIENT (FK_USER);


CREATE TABLE ORDERS (
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	FK_CLIENT INTEGER NOT NULL,
	DESCRIPTION VARCHAR(100),
	CREATIONDATE DATE,
	CONSTRAINT PK_ORDER PRIMARY KEY (ID),
	CONSTRAINT FK_ORDER FOREIGN KEY (FK_CLIENT) REFERENCES CLIENT(ID)
);
CREATE INDEX FK_ORDER ON ORDERS (FK_CLIENT);


CREATE TABLE DELIVERY (
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	ADDRESS VARCHAR(100) NOT NULL,
	STATUS VARCHAR(100),
	STAGE VARCHAR(100),
	TERM DATE,
	FK_ORDER INTEGER NOT NULL,
	CONSTRAINT PK_DELIVERY PRIMARY KEY (ID),
	CONSTRAINT FK_DELIVERY FOREIGN KEY (FK_ORDER) REFERENCES ORDERS(ID)
);
CREATE INDEX  FK_DELIVERY ON DELIVERY (FK_ORDER);



CREATE TABLE USERS (
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	USERNAME VARCHAR(100) NOT NULL,
	PASSWORD VARCHAR(100) NOT NULL,
	CONSTRAINT PK_USER PRIMARY KEY (ID)
);